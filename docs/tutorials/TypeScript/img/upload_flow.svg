<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="1100" height="560" viewBox="0 0 1100 560" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="FormKiQ Upload Flow (Python SDK)">
  <defs>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-color="#1a1a1a" flood-opacity="0.20"/>
    </filter>
    <linearGradient id="panelGrad" x1="0" x2="0" y1="0" y2="1">
      <stop offset="0%" stop-color="#f6f9ff"/>
      <stop offset="100%" stop-color="#e9f0ff"/>
    </linearGradient>
    <linearGradient id="badgeGrad" x1="0" x2="1" y1="0" y2="1">
      <stop offset="0%" stop-color="#6aa6ff"/>
      <stop offset="100%" stop-color="#3a7bff"/>
    </linearGradient>
    <marker id="arrow" markerWidth="12" markerHeight="12" refX="6" refY="3" orient="auto">
      <polygon points="0 0, 6 3, 0 6" fill="#374151"/>
    </marker>
    <marker id="arrowOk" markerWidth="12" markerHeight="12" refX="6" refY="3" orient="auto">
      <polygon points="0 0, 6 3, 0 6" fill="#16a34a"/>
    </marker>
    <style>
      .title { font: 700 22px/1.2 Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; fill:#0f172a; }
      .subtitle { font: 500 14px/1.3 Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; fill:#334155; }
      .panelTitle { font: 600 16px/1.2 Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; fill:#0f172a; }
      .step { font: 600 12px/1 Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; fill:white; }
      .callout { font: 500 12px/1.3 Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; fill:#475569; }
      .arrowLabel { font: 600 13px/1.2 Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; fill:#374151; }
      .arrowLabelOk { font: 700 13px/1.2 Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; fill:#16a34a; }
    </style>
  </defs>

  <text class="title" x="550" y="40" text-anchor="middle">FormKiQ Upload Flow (Python SDK)</text>
  <text class="subtitle" x="550" y="64" text-anchor="middle">Inline create → Presign → S3 PUT → Verify</text>

  <g filter="url(#shadow)">
    <rect x="70" y="110" rx="16" ry="16" width="300" height="90" fill="url(#panelGrad)" stroke="#2f5fcc" stroke-width="1.5"/>
  </g>
  <text class="panelTitle" x="220" y="164" text-anchor="middle">Python Script</text>

  <g filter="url(#shadow)">
    <rect x="400" y="110" rx="16" ry="16" width="300" height="90" fill="url(#panelGrad)" stroke="#2f5fcc" stroke-width="1.5"/>
  </g>
  <text class="panelTitle" x="550" y="164" text-anchor="middle">FormKiQ API</text>

  <g filter="url(#shadow)">
    <rect x="730" y="110" rx="16" ry="16" width="300" height="90" fill="url(#panelGrad)" stroke="#2f5fcc" stroke-width="1.5"/>
  </g>
  <text class="panelTitle" x="880" y="164" text-anchor="middle">Amazon S3</text>

  <g>
    <circle cx="220" cy="230" r="14" fill="url(#badgeGrad)" filter="url(#shadow)"/><text class="step" x="220" y="234" text-anchor="middle">1</text>
    <circle cx="220" cy="305" r="14" fill="url(#badgeGrad)" filter="url(#shadow)"/><text class="step" x="220" y="309" text-anchor="middle">2</text>
    <circle cx="880" cy="353" r="14" fill="url(#badgeGrad)" filter="url(#shadow)"/><text class="step" x="880" y="357" text-anchor="middle">3</text>
    <circle cx="550" cy="430" r="14" fill="url(#badgeGrad)" filter="url(#shadow)"/><text class="step" x="550" y="434" text-anchor="middle">4</text>
  </g>

  <line x1="220" y1="230" x2="550" y2="230" stroke="#374151" stroke-width="1.6" marker-end="url(#arrow)"/>
  <text class="arrowLabel" x="385" y="220" text-anchor="middle">POST /documents</text>
  <line x1="550" y1="250" x2="220" y2="250" stroke="#374151" stroke-width="1.6" marker-end="url(#arrow)"/>
  <text class="arrowLabel" x="385" y="268" text-anchor="middle">documentId + metadata</text>

  <line x1="220" y1="305" x2="550" y2="305" stroke="#374151" stroke-width="1.6" marker-end="url(#arrow)"/>
  <text class="arrowLabel" x="385" y="294" text-anchor="middle">POST /documents/upload</text>
  <line x1="550" y1="325" x2="220" y2="325" stroke="#374151" stroke-width="1.6" marker-end="url(#arrow)"/>
  <text class="arrowLabel" x="385" y="343" text-anchor="middle">presignedUrl + required S3 headers</text>

  <path d="M 220 380 C 420 380, 680 380, 880 380" fill="none" stroke="#374151" stroke-width="1.8" marker-end="url(#arrow)"/>
  <text class="arrowLabel" x="550" y="370" text-anchor="middle">PUT file bytes (presignedUrl + headers)</text>
  <line x1="880" y1="402" x2="220" y2="402" stroke="#16a34a" stroke-width="1.8" marker-end="url(#arrowOk)"/>
  <text class="arrowLabelOk" x="550" y="420" text-anchor="middle">200 OK</text>

  <line x1="220" y1="430" x2="550" y2="430" stroke="#374151" stroke-width="1.6" marker-end="url(#arrow)"/>
  <text class="arrowLabel" x="385" y="420" text-anchor="middle">GET /documents/{documentId}</text>
  <line x1="550" y1="450" x2="220" y2="450" stroke="#374151" stroke-width="1.6" marker-end="url(#arrow)"/>
  <text class="arrowLabel" x="385" y="468" text-anchor="middle">updated metadata</text>
</svg>